var E=class extends Map{set(e,r){return super.set(e,r),r}},p=class extends WeakMap{set(e,r){return super.set(e,r),r}};var X=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Y=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,Z=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,V=/[\x01\x02]/g,T=(t,e,r)=>{let s=0;return t.join("").trim().replace(Y,(o,i,f,l)=>{let n=i+f.replace(Z,"=$2$1").trimEnd();return l.length&&(n+=r||X.test(i)?" /":"></"+i),"<"+n+">"}).replace(V,o=>o===""?"<!--"+e+s+++"-->":e+s++)};var tt=({firstChild:t,lastChild:e})=>{let r=document.createRange();return r.setStartAfter(t),r.setEndAfter(e),r.deleteContents(),t},O=(t,e)=>t.nodeType===111?1/e<0?e?tt(t):t.lastChild:e?t.valueOf():t.firstChild:t,w=t=>{let{firstChild:e,lastChild:r}=t;if(e===r)return r||t;let{childNodes:s}=t,o=[...s];return{ELEMENT_NODE:1,nodeType:111,firstChild:e,lastChild:r,valueOf(){return s.length!==o.length&&t.append(...o),t}}};var{isArray:S}=Array,{indexOf:vt,slice:At}=[];var $=!1,C=class{constructor(e,r){$=!0,this._=(...s)=>e(...s,r)}};var L=t=>e=>{for(let r in e){let s=r==="role"?r:`aria-${r}`,o=e[r];o==null?t.removeAttribute(s):t.setAttribute(s,o)}},M=(t,e)=>{let r,s=!0,o=document.createAttributeNS(null,e);return i=>{if(r!==i)if(r=i,r==null)s||(t.removeAttributeNode(o),s=!0);else{let f=$&&i instanceof C?i._(t,e):i;f==null?(s||t.removeAttributeNode(o),s=!0):(o.value=f,s&&(t.setAttributeNodeNS(o),s=!1))}}},k=(t,e,r)=>s=>{r!==!!s&&((r=!!s)?t.setAttribute(e,""):t.removeAttribute(e))},et=({dataset:t})=>e=>{for(let r in e){let s=e[r];s==null?delete t[r]:t[r]=s}},N=(t,e)=>{let r,s,o=e.slice(2);return!(e in t)&&(s=e.toLowerCase())in t&&(o=s.slice(2)),i=>{let f=S(i)?i:[i,!1];r!==f[0]&&(r&&t.removeEventListener(o,r,f[1]),(r=f[0])&&t.addEventListener(o,r,f[1]))}},P=t=>{let e;return r=>{e!==r&&(e=r,typeof r=="function"?r(t):r.current=t)}},R=(t,e)=>e==="dataset"?et(t):r=>{t[e]=r},j=t=>{let e;return r=>{e!=r&&(e=r,t.textContent=r??"")}};var B=(t,e,r,s,o)=>{let i=r.length,f=e.length,l=i,n=0,c=0,a=null;for(;n<f||c<l;)if(f===n){let u=l<i?c?s(r[c-1],-0).nextSibling:s(r[l-c],0):o;for(;c<l;)t.insertBefore(s(r[c++],1),u)}else if(l===c)for(;n<f;)(!a||!a.has(e[n]))&&t.removeChild(s(e[n],-1)),n++;else if(e[n]===r[c])n++,c++;else if(e[f-1]===r[l-1])f--,l--;else if(e[n]===r[l-1]&&r[c]===e[f-1]){let u=s(e[--f],-1).nextSibling;t.insertBefore(s(r[c++],1),s(e[n++],-1).nextSibling),t.insertBefore(s(r[--l],1),u),e[f]=r[l]}else{if(!a){a=new Map;let u=c;for(;u<l;)a.set(r[u],u++)}if(a.has(e[n])){let u=a.get(e[n]);if(c<u&&u<l){let h=n,x=1;for(;++h<f&&h<l&&a.get(e[h])===u+x;)x++;if(x>u-c){let Q=s(e[n],0);for(;c<u;)t.insertBefore(s(r[c++],1),Q)}else t.replaceChild(s(r[c++],1),s(e[n++],-1))}else n++}else t.removeChild(s(e[n++],-1))}return r};var{isArray:A,prototype:rt}=Array,{indexOf:D}=rt;var{createDocumentFragment:st,createElement:nt,createElementNS:ot,createTextNode:F,createTreeWalker:H,importNode:W}=new Proxy(document,{get:(t,e)=>t[e].bind(t)});var it=t=>{let e=nt("template");return e.innerHTML=t,e.content},v,ct=t=>{v||(v=ot("http://www.w3.org/2000/svg","svg")),v.innerHTML=t;let e=st();return e.append(...v.childNodes),e},q=(t,e)=>e?ct(t):it(t);var lt=({childNodes:t},e)=>t[e],g=(t,e,r)=>B(t.parentNode,e,r,O,t),at=t=>{let e,r,s=[],o=i=>{switch(typeof i){case"string":case"number":case"boolean":e!==i&&(e=i,r||(r=F("")),r.data=i,s=g(t,s,[r]));break;case"object":case"undefined":if(i==null){e!=i&&(e=i,s=g(t,s,[]));break}if(A(i)){e=i,i.length===0?s=g(t,s,[]):typeof i[0]=="object"?s=g(t,s,i):o(String(i));break}e!==i&&"ELEMENT_NODE"in i&&(e=i,s=g(t,s,i.nodeType===11?[...i.childNodes]:[i]));break;case"function":o(i(t));break}};return o},ft=(t,e)=>{switch(e[0]){case"?":return k(t,e.slice(1),!1);case".":return R(t,e.slice(1));case"@":return N(t,"on"+e.slice(1));case"o":if(e[1]==="n")return N(t,e)}switch(e){case"ref":return P(t);case"aria":return L(t)}return M(t,e)};function z(t){let{type:e,path:r}=t,s=r.reduceRight(lt,this);return e==="node"?at(s):e==="attr"?ft(s,t.name):j(s)}var _=t=>{let e=[],{parentNode:r}=t;for(;r;)e.push(D.call(r.childNodes,t)),t=r,{parentNode:r}=t;return e},y="is\xB5",I=new p,ut=/^(?:textarea|script|style|title|plaintext|xmp)$/,m=()=>({stack:[],entry:null,wire:null}),ht=(t,e)=>{let{content:r,updates:s}=dt(t,e);return{type:t,template:e,content:r,updates:s,wire:null}},pt=(t,e)=>{let r=t==="svg",s=T(e,y,r),o=q(s,r),i=H(o,129),f=[],l=e.length-1,n=0,c=`${y}${n}`;for(;n<l;){let a=i.nextNode();if(!a)throw`bad template: ${s}`;if(a.nodeType===8)a.data===c&&(f.push({type:"node",path:_(a)}),c=`${y}${++n}`);else{for(;a.hasAttribute(c);)f.push({type:"attr",path:_(a),name:a.getAttribute(c)}),a.removeAttribute(c),c=`${y}${++n}`;ut.test(a.localName)&&a.textContent.trim()===`<!--${c}-->`&&(a.textContent="",f.push({type:"text",path:_(a)}),c=`${y}${++n}`)}}return{content:o,nodes:f}},dt=(t,e)=>{let{content:r,nodes:s}=I.get(e)||I.set(e,pt(t,e)),o=W(r,!0),i=s.map(z,o);return{content:o,updates:i}},b=(t,{type:e,template:r,values:s})=>{let o=G(t,s),{entry:i}=t;(!i||i.template!==r||i.type!==e)&&(t.entry=i=ht(e,r));let{content:f,updates:l,wire:n}=i;for(let c=0;c<o;c++)l[c](s[c]);return n||(i.wire=w(f))},G=({stack:t},e)=>{let{length:r}=e;for(let s=0;s<r;s++){let o=e[s];o instanceof d?e[s]=b(t[s]||(t[s]=m()),o):A(o)?G(t[s]||(t[s]=m()),o):t[s]=null}return r<t.length&&t.splice(r),r},d=class{constructor(e,r,s){this.type=e,this.template=r,this.values=s}};var J=t=>{let e=new p,r=s=>(o,...i)=>b(s,{type:t,template:o,values:i});return Object.assign((s,...o)=>new d(t,s,o),{for(s,o){let i=e.get(s)||e.set(s,new E);return i.get(o)||i.set(o,r(m()))},node:(s,...o)=>b(m(),new d(t,s,o)).valueOf()})},U=new p,K=(t,e)=>{let r=typeof e=="function"?e():e,s=U.get(t)||U.set(t,m()),o=r instanceof d?b(s,r):r;return o!==s.wire&&(s.wire=o,t.replaceChildren(o.valueOf())),t},xt=J("html"),mt=J("svg");function gt(t){let e=t?.extends?t.extends[0]:HTMLElement,r=t?.extends?t.extends[1]:void 0,s=Object.keys(t.props||{}),o=new Event("update");class i extends e{constructor(){super().attachShadow({mode:"open"}),Object.assign(this,t),this.refs={},s.forEach(n=>{let[c,a]=this.props[n];Object.defineProperty(this,n,{get:()=>{let u=this.getAttribute(n)||a;switch(c){case String:return u;case Boolean:return[!0,"true"].includes(u);default:return c(u)}},set:u=>this.setAttribute(n,u)})});let l=n=>{if(n===null||typeof n!="object")return n;for(let c in n)n[c]=l(n[c]);return new Proxy(n,{get:(c,a)=>c[a],set:(c,a,u)=>(c[a]=l(u),this.dispatchEvent(o),!0),deleteProperty:(c,a)=>(delete c[a],this.dispatchEvent(o),!0)})};typeof this.state=="function"&&(this._state=l(this.state()),delete this.state,Object.keys(this._state).forEach(n=>{Object.defineProperty(this,n,{get:()=>this._state[n],set:c=>this._state[n]=c})})),typeof this.intersect=="function"&&new IntersectionObserver(n=>n.forEach(c=>{c.isIntersecting&&this.intersect(c.intersectionRatio.toFixed(2))}),{root:null,rootMargin:"0px",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(this)}context(l){if(this._ctx||(this._ctx={}),this._ctx[l])return this._ctx[l];{let n=(c,a=this)=>{function u(h){if(!h||h===document||h===window)return null;let x=h.closest(c);return x||u(h.getRootNode().host)}return u(a)};return this._ctx[l]=n(`[context=${l}]`),this._ctx[l].addEventListener("update",()=>this.dispatchEvent(o)),this._ctx[l]}}debounce(l){var n;return function(){var c=this,a=arguments;n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(function(){l.apply(c,a)})}}render(){let l=this.template();typeof l=="object"?K(this.shadowRoot,l):typeof l=="string"&&(this.shadowRoot.innerHTML=l),this.shadowRoot.querySelectorAll("[ref]").forEach(n=>{this.refs[n.getAttribute("ref")]=n}),this.updated&&this.updated()}connectedCallback(){this.addEventListener("update",this.debounce(this.render)),this.dispatchEvent(o),this?.ready&&this.ready()}static get observedAttributes(){return s}attributeChangedCallback(){this.dispatchEvent(o)}}!customElements.get(t.component)&&customElements.define(t.component,i,{extends:r})}export{gt as default,xt as html,mt as svg};
/*! (c) Andrea Giammarchi - ISC */
