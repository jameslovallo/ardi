var g=class extends Map{set(e,r){return super.set(e,r),r}},u=class extends WeakMap{set(e,r){return super.set(e,r),r}};var X=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Y=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,Z=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,V=/[\x01\x02]/g,O=(t,e,r)=>{let s=0;return t.join("").trim().replace(Y,(o,n,i,f)=>{let c=n+i.replace(Z,"=$2$1").trimEnd();return f.length&&(c+=r||X.test(n)?" /":"></"+n),"<"+c+">"}).replace(V,o=>o===""?"<!--"+e+s+++"-->":e+s++)};var tt=({firstChild:t,lastChild:e})=>{let r=document.createRange();return r.setStartAfter(t),r.setEndAfter(e),r.deleteContents(),t},S=(t,e)=>t.nodeType===111?1/e<0?e?tt(t):t.lastChild:e?t.valueOf():t.firstChild:t,$=t=>{let{firstChild:e,lastChild:r}=t;if(e===r)return r||t;let{childNodes:s}=t,o=[...s];return{ELEMENT_NODE:1,nodeType:111,firstChild:e,lastChild:r,valueOf(){return s.length!==o.length&&t.append(...o),t}}};var{isArray:M}=Array,{indexOf:Et,slice:vt}=[];var k=!1,C=class{constructor(e,r){k=!0,this._=(...s)=>e(...s,r)}};var L=t=>e=>{for(let r in e){let s=r==="role"?r:`aria-${r}`,o=e[r];o==null?t.removeAttribute(s):t.setAttribute(s,o)}},w=(t,e)=>{let r,s=!0,o=document.createAttributeNS(null,e);return n=>{if(r!==n)if(r=n,r==null)s||(t.removeAttributeNode(o),s=!0);else{let i=k&&n instanceof C?n._(t,e):n;i==null?(s||t.removeAttributeNode(o),s=!0):(o.value=i,s&&(t.setAttributeNodeNS(o),s=!1))}}},_=(t,e,r)=>s=>{r!==!!s&&((r=!!s)?t.setAttribute(e,""):t.removeAttribute(e))},et=({dataset:t})=>e=>{for(let r in e){let s=e[r];s==null?delete t[r]:t[r]=s}},N=(t,e)=>{let r,s,o=e.slice(2);return!(e in t)&&(s=e.toLowerCase())in t&&(o=s.slice(2)),n=>{let i=M(n)?n:[n,!1];r!==i[0]&&(r&&t.removeEventListener(o,r,i[1]),(r=i[0])&&t.addEventListener(o,r,i[1]))}},P=t=>{let e;return r=>{e!==r&&(e=r,typeof r=="function"?r(t):r.current=t)}},D=(t,e)=>e==="dataset"?et(t):r=>{t[e]=r},R=t=>{let e;return r=>{e!=r&&(e=r,t.textContent=r??"")}};var B=(t,e,r,s,o)=>{let n=r.length,i=e.length,f=n,c=0,l=0,a=null;for(;c<i||l<f;)if(i===c){let p=f<n?l?s(r[l-1],-0).nextSibling:s(r[f-l],0):o;for(;l<f;)t.insertBefore(s(r[l++],1),p)}else if(f===l)for(;c<i;)(!a||!a.has(e[c]))&&t.removeChild(s(e[c],-1)),c++;else if(e[c]===r[l])c++,l++;else if(e[i-1]===r[f-1])i--,f--;else if(e[c]===r[f-1]&&r[l]===e[i-1]){let p=s(e[--i],-1).nextSibling;t.insertBefore(s(r[l++],1),s(e[c++],-1).nextSibling),t.insertBefore(s(r[--f],1),p),e[i]=r[f]}else{if(!a){a=new Map;let p=l;for(;p<f;)a.set(r[p],p++)}if(a.has(e[c])){let p=a.get(e[c]);if(l<p&&p<f){let E=c,v=1;for(;++E<i&&E<f&&a.get(e[E])===p+v;)v++;if(v>p-l){let Q=s(e[c],0);for(;l<p;)t.insertBefore(s(r[l++],1),Q)}else t.replaceChild(s(r[l++],1),s(e[c++],-1))}else c++}else t.removeChild(s(e[c++],-1))}return r};var{isArray:A,prototype:rt}=Array,{indexOf:H}=rt;var{createDocumentFragment:st,createElement:nt,createElementNS:ot,createTextNode:W,createTreeWalker:j,importNode:q}=new Proxy(document,{get:(t,e)=>t[e].bind(t)});var it=t=>{let e=nt("template");return e.innerHTML=t,e.content},b,ct=t=>{b||(b=ot("http://www.w3.org/2000/svg","svg")),b.innerHTML=t;let e=st();return e.append(...b.childNodes),e},z=(t,e)=>e?ct(t):it(t);var lt=({childNodes:t},e)=>t[e],m=(t,e,r)=>B(t.parentNode,e,r,S,t),ft=t=>{let e,r,s=[],o=n=>{switch(typeof n){case"string":case"number":case"boolean":e!==n&&(e=n,r||(r=W("")),r.data=n,s=m(t,s,[r]));break;case"object":case"undefined":if(n==null){e!=n&&(e=n,s=m(t,s,[]));break}if(A(n)){e=n,n.length===0?s=m(t,s,[]):typeof n[0]=="object"?s=m(t,s,n):o(String(n));break}e!==n&&"ELEMENT_NODE"in n&&(e=n,s=m(t,s,n.nodeType===11?[...n.childNodes]:[n]));break;case"function":o(n(t));break}};return o},at=(t,e)=>{switch(e[0]){case"?":return _(t,e.slice(1),!1);case".":return D(t,e.slice(1));case"@":return N(t,"on"+e.slice(1));case"o":if(e[1]==="n")return N(t,e)}switch(e){case"ref":return P(t);case"aria":return L(t)}return w(t,e)};function F(t){let{type:e,path:r}=t,s=r.reduceRight(lt,this);return e==="node"?ft(s):e==="attr"?at(s,t.name):R(s)}var T=t=>{let e=[],{parentNode:r}=t;for(;r;)e.push(H.call(r.childNodes,t)),t=r,{parentNode:r}=t;return e},x="is\xB5",I=new u,pt=/^(?:textarea|script|style|title|plaintext|xmp)$/,d=()=>({stack:[],entry:null,wire:null}),ut=(t,e)=>{let{content:r,updates:s}=dt(t,e);return{type:t,template:e,content:r,updates:s,wire:null}},ht=(t,e)=>{let r=t==="svg",s=O(e,x,r),o=z(s,r),n=j(o,129),i=[],f=e.length-1,c=0,l=`${x}${c}`;for(;c<f;){let a=n.nextNode();if(!a)throw`bad template: ${s}`;if(a.nodeType===8)a.data===l&&(i.push({type:"node",path:T(a)}),l=`${x}${++c}`);else{for(;a.hasAttribute(l);)i.push({type:"attr",path:T(a),name:a.getAttribute(l)}),a.removeAttribute(l),l=`${x}${++c}`;pt.test(a.localName)&&a.textContent.trim()===`<!--${l}-->`&&(a.textContent="",i.push({type:"text",path:T(a)}),l=`${x}${++c}`)}}return{content:o,nodes:i}},dt=(t,e)=>{let{content:r,nodes:s}=I.get(e)||I.set(e,ht(t,e)),o=q(r,!0),n=s.map(F,o);return{content:o,updates:n}},y=(t,{type:e,template:r,values:s})=>{let o=G(t,s),{entry:n}=t;(!n||n.template!==r||n.type!==e)&&(t.entry=n=ut(e,r));let{content:i,updates:f,wire:c}=n;for(let l=0;l<o;l++)f[l](s[l]);return c||(n.wire=$(i))},G=({stack:t},e)=>{let{length:r}=e;for(let s=0;s<r;s++){let o=e[s];o instanceof h?e[s]=y(t[s]||(t[s]=d()),o):A(o)?G(t[s]||(t[s]=d()),o):t[s]=null}return r<t.length&&t.splice(r),r},h=class{constructor(e,r,s){this.type=e,this.template=r,this.values=s}};var J=t=>{let e=new u,r=s=>(o,...n)=>y(s,{type:t,template:o,values:n});return Object.assign((s,...o)=>new h(t,s,o),{for(s,o){let n=e.get(s)||e.set(s,new g);return n.get(o)||n.set(o,r(d()))},node:(s,...o)=>y(d(),new h(t,s,o)).valueOf()})},U=new u,K=(t,e)=>{let r=typeof e=="function"?e():e,s=U.get(t)||U.set(t,d()),o=r instanceof h?y(s,r):r;return o!==s.wire&&(s.wire=o,t.replaceChildren(o.valueOf())),t},mt=J("html"),xt=J("svg");function yt(t){let e=Object.keys(t.props);class r extends HTMLElement{constructor(){super().attachShadow({mode:"open"}),Object.assign(this,t),this.refs={},e.forEach(n=>{let[i,f]=this.props[n];Object.defineProperty(this,n,{get:()=>{let c=this.getAttribute(n)||f;return i!==String?i(c):c},set:c=>this.setAttribute(n,c)})});let o=n=>{if(n===null||typeof n!="object")return n;for(let i in n)n[i]=o(n[i]);return new Proxy(n,{get:(i,f)=>i[f],set:(i,f,c)=>(i[f]=o(c),this.update(),!0),deleteProperty:(i,f)=>(delete i[f],this.update(),!0)})};this.data=o(t.data),typeof this.intersect=="function"&&new IntersectionObserver(n=>n.forEach(i=>{i.isIntersecting&&this.intersect(i.intersectionRatio.toFixed(2))}),{root:null,rootMargin:"0px",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(this)}render(){K(this.shadowRoot,this.template())}update(){this.render(),this.shadowRoot.querySelectorAll("[ref]").forEach(o=>{this.refs[o.getAttribute("ref")]=o})}connectedCallback(){this?.ready&&this.ready(),this.update()}static get observedAttributes(){return e}attributeChangedCallback(){this.update()}}!customElements.get(t.component)&&customElements.define(t.component,r)}export{yt as default,mt as html,xt as svg};
/*! (c) Andrea Giammarchi - ISC */
