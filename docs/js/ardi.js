var g=class extends Map{set(e,r){return super.set(e,r),r}},u=class extends WeakMap{set(e,r){return super.set(e,r),r}};var X=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Y=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,Z=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,V=/[\x01\x02]/g,O=(t,e,r)=>{let s=0;return t.join("").trim().replace(Y,(o,n,i,a)=>{let c=n+i.replace(Z,"=$2$1").trimEnd();return a.length&&(c+=r||X.test(n)?" /":"></"+n),"<"+c+">"}).replace(V,o=>o===""?"<!--"+e+s+++"-->":e+s++)};var tt=({firstChild:t,lastChild:e})=>{let r=document.createRange();return r.setStartAfter(t),r.setEndAfter(e),r.deleteContents(),t},S=(t,e)=>t.nodeType===111?1/e<0?e?tt(t):t.lastChild:e?t.valueOf():t.firstChild:t,$=t=>{let{firstChild:e,lastChild:r}=t;if(e===r)return r||t;let{childNodes:s}=t,o=[...s];return{ELEMENT_NODE:1,nodeType:111,firstChild:e,lastChild:r,valueOf(){return s.length!==o.length&&t.append(...o),t}}};var{isArray:w}=Array,{indexOf:vt,slice:At}=[];var L=!1,C=class{constructor(e,r){L=!0,this._=(...s)=>e(...s,r)}};var M=t=>e=>{for(let r in e){let s=r==="role"?r:`aria-${r}`,o=e[r];o==null?t.removeAttribute(s):t.setAttribute(s,o)}},k=(t,e)=>{let r,s=!0,o=document.createAttributeNS(null,e);return n=>{if(r!==n)if(r=n,r==null)s||(t.removeAttributeNode(o),s=!0);else{let i=L&&n instanceof C?n._(t,e):n;i==null?(s||t.removeAttributeNode(o),s=!0):(o.value=i,s&&(t.setAttributeNodeNS(o),s=!1))}}},_=(t,e,r)=>s=>{r!==!!s&&((r=!!s)?t.setAttribute(e,""):t.removeAttribute(e))},et=({dataset:t})=>e=>{for(let r in e){let s=e[r];s==null?delete t[r]:t[r]=s}},N=(t,e)=>{let r,s,o=e.slice(2);return!(e in t)&&(s=e.toLowerCase())in t&&(o=s.slice(2)),n=>{let i=w(n)?n:[n,!1];r!==i[0]&&(r&&t.removeEventListener(o,r,i[1]),(r=i[0])&&t.addEventListener(o,r,i[1]))}},P=t=>{let e;return r=>{e!==r&&(e=r,typeof r=="function"?r(t):r.current=t)}},D=(t,e)=>e==="dataset"?et(t):r=>{t[e]=r},R=t=>{let e;return r=>{e!=r&&(e=r,t.textContent=r??"")}};var B=(t,e,r,s,o)=>{let n=r.length,i=e.length,a=n,c=0,l=0,f=null;for(;c<i||l<a;)if(i===c){let p=a<n?l?s(r[l-1],-0).nextSibling:s(r[a-l],0):o;for(;l<a;)t.insertBefore(s(r[l++],1),p)}else if(a===l)for(;c<i;)(!f||!f.has(e[c]))&&t.removeChild(s(e[c],-1)),c++;else if(e[c]===r[l])c++,l++;else if(e[i-1]===r[a-1])i--,a--;else if(e[c]===r[a-1]&&r[l]===e[i-1]){let p=s(e[--i],-1).nextSibling;t.insertBefore(s(r[l++],1),s(e[c++],-1).nextSibling),t.insertBefore(s(r[--a],1),p),e[i]=r[a]}else{if(!f){f=new Map;let p=l;for(;p<a;)f.set(r[p],p++)}if(f.has(e[c])){let p=f.get(e[c]);if(l<p&&p<a){let v=c,A=1;for(;++v<i&&v<a&&f.get(e[v])===p+A;)A++;if(A>p-l){let Q=s(e[c],0);for(;l<p;)t.insertBefore(s(r[l++],1),Q)}else t.replaceChild(s(r[l++],1),s(e[c++],-1))}else c++}else t.removeChild(s(e[c++],-1))}return r};var{isArray:E,prototype:rt}=Array,{indexOf:F}=rt;var{createDocumentFragment:st,createElement:nt,createElementNS:ot,createTextNode:H,createTreeWalker:W,importNode:q}=new Proxy(document,{get:(t,e)=>t[e].bind(t)});var it=t=>{let e=nt("template");return e.innerHTML=t,e.content},b,ct=t=>{b||(b=ot("http://www.w3.org/2000/svg","svg")),b.innerHTML=t;let e=st();return e.append(...b.childNodes),e},j=(t,e)=>e?ct(t):it(t);var lt=({childNodes:t},e)=>t[e],m=(t,e,r)=>B(t.parentNode,e,r,S,t),at=t=>{let e,r,s=[],o=n=>{switch(typeof n){case"string":case"number":case"boolean":e!==n&&(e=n,r||(r=H("")),r.data=n,s=m(t,s,[r]));break;case"object":case"undefined":if(n==null){e!=n&&(e=n,s=m(t,s,[]));break}if(E(n)){e=n,n.length===0?s=m(t,s,[]):typeof n[0]=="object"?s=m(t,s,n):o(String(n));break}e!==n&&"ELEMENT_NODE"in n&&(e=n,s=m(t,s,n.nodeType===11?[...n.childNodes]:[n]));break;case"function":o(n(t));break}};return o},ft=(t,e)=>{switch(e[0]){case"?":return _(t,e.slice(1),!1);case".":return D(t,e.slice(1));case"@":return N(t,"on"+e.slice(1));case"o":if(e[1]==="n")return N(t,e)}switch(e){case"ref":return P(t);case"aria":return M(t)}return k(t,e)};function z(t){let{type:e,path:r}=t,s=r.reduceRight(lt,this);return e==="node"?at(s):e==="attr"?ft(s,t.name):R(s)}var T=t=>{let e=[],{parentNode:r}=t;for(;r;)e.push(F.call(r.childNodes,t)),t=r,{parentNode:r}=t;return e},x="is\xB5",I=new u,pt=/^(?:textarea|script|style|title|plaintext|xmp)$/,d=()=>({stack:[],entry:null,wire:null}),ut=(t,e)=>{let{content:r,updates:s}=dt(t,e);return{type:t,template:e,content:r,updates:s,wire:null}},ht=(t,e)=>{let r=t==="svg",s=O(e,x,r),o=j(s,r),n=W(o,129),i=[],a=e.length-1,c=0,l=`${x}${c}`;for(;c<a;){let f=n.nextNode();if(!f)throw`bad template: ${s}`;if(f.nodeType===8)f.data===l&&(i.push({type:"node",path:T(f)}),l=`${x}${++c}`);else{for(;f.hasAttribute(l);)i.push({type:"attr",path:T(f),name:f.getAttribute(l)}),f.removeAttribute(l),l=`${x}${++c}`;pt.test(f.localName)&&f.textContent.trim()===`<!--${l}-->`&&(f.textContent="",i.push({type:"text",path:T(f)}),l=`${x}${++c}`)}}return{content:o,nodes:i}},dt=(t,e)=>{let{content:r,nodes:s}=I.get(e)||I.set(e,ht(t,e)),o=q(r,!0),n=s.map(z,o);return{content:o,updates:n}},y=(t,{type:e,template:r,values:s})=>{let o=G(t,s),{entry:n}=t;(!n||n.template!==r||n.type!==e)&&(t.entry=n=ut(e,r));let{content:i,updates:a,wire:c}=n;for(let l=0;l<o;l++)a[l](s[l]);return c||(n.wire=$(i))},G=({stack:t},e)=>{let{length:r}=e;for(let s=0;s<r;s++){let o=e[s];o instanceof h?e[s]=y(t[s]||(t[s]=d()),o):E(o)?G(t[s]||(t[s]=d()),o):t[s]=null}return r<t.length&&t.splice(r),r},h=class{constructor(e,r,s){this.type=e,this.template=r,this.values=s}};var J=t=>{let e=new u,r=s=>(o,...n)=>y(s,{type:t,template:o,values:n});return Object.assign((s,...o)=>new h(t,s,o),{for(s,o){let n=e.get(s)||e.set(s,new g);return n.get(o)||n.set(o,r(d()))},node:(s,...o)=>y(d(),new h(t,s,o)).valueOf()})},U=new u,K=(t,e)=>{let r=typeof e=="function"?e():e,s=U.get(t)||U.set(t,d()),o=r instanceof h?y(s,r):r;return o!==s.wire&&(s.wire=o,t.replaceChildren(o.valueOf())),t},mt=J("html"),xt=J("svg");function yt(t){let e=Object.keys(t.props),r=new Event("update");class s extends HTMLElement{constructor(){super().attachShadow({mode:"open"}),Object.assign(this,t),this.refs={},e.forEach(i=>{let[a,c]=this.props[i];Object.defineProperty(this,i,{get:()=>{let l=this.getAttribute(i)||c;return a!==String?a(l):l},set:l=>this.setAttribute(i,l)})});let n=i=>{if(i===null||typeof i!="object")return i;for(let a in i)i[a]=n(i[a]);return new Proxy(i,{get:(a,c)=>a[c],set:(a,c,l)=>(a[c]=n(l),this.dispatchEvent(r),!0),deleteProperty:(a,c)=>(delete a[c],this.dispatchEvent(r),!0)})};this.state=n(typeof t.state=="function"?t.state():t.state),typeof this.intersect=="function"&&new IntersectionObserver(i=>i.forEach(a=>{a.isIntersecting&&this.intersect(a.intersectionRatio.toFixed(2))}),{root:null,rootMargin:"0px",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(this)}debounce(n){var i;return function(){var a=this,c=arguments;i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(function(){n.apply(a,c)})}}render(){K(this.shadowRoot,this.template())}connectedCallback(){let n=()=>{this.render(),this.shadowRoot.querySelectorAll("[ref]").forEach(i=>{this.refs[i.getAttribute("ref")]=i})};this.addEventListener("update",this.debounce(n)),this?.ready&&this.ready(),this.dispatchEvent(r)}static get observedAttributes(){return e}attributeChangedCallback(){this.dispatchEvent(r)}}!customElements.get(t.component)&&customElements.define(t.component,s)}export{yt as default,mt as html,xt as svg};
/*! (c) Andrea Giammarchi - ISC */
