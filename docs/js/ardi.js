var g=class extends Map{set(e,r){return super.set(e,r),r}},h=class extends WeakMap{set(e,r){return super.set(e,r),r}};var X=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Y=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,Z=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,V=/[\x01\x02]/g,O=(t,e,r)=>{let s=0;return t.join("").trim().replace(Y,(n,o,c,f)=>{let l=o+c.replace(Z,"=$2$1").trimEnd();return f.length&&(l+=r||X.test(o)?" /":"></"+o),"<"+l+">"}).replace(V,n=>n===""?"<!--"+e+s+++"-->":e+s++)};var tt=({firstChild:t,lastChild:e})=>{let r=document.createRange();return r.setStartAfter(t),r.setEndAfter(e),r.deleteContents(),t},S=(t,e)=>t.nodeType===111?1/e<0?e?tt(t):t.lastChild:e?t.valueOf():t.firstChild:t,$=t=>{let{firstChild:e,lastChild:r}=t;if(e===r)return r||t;let{childNodes:s}=t,n=[...s];return{ELEMENT_NODE:1,nodeType:111,firstChild:e,lastChild:r,valueOf(){return s.length!==n.length&&t.append(...n),t}}};var{isArray:M}=Array,{indexOf:Et,slice:vt}=[];var k=!1,C=class{constructor(e,r){k=!0,this._=(...s)=>e(...s,r)}};var L=t=>e=>{for(let r in e){let s=r==="role"?r:`aria-${r}`,n=e[r];n==null?t.removeAttribute(s):t.setAttribute(s,n)}},j=(t,e)=>{let r,s=!0,n=document.createAttributeNS(null,e);return o=>{if(r!==o)if(r=o,r==null)s||(t.removeAttributeNode(n),s=!0);else{let c=k&&o instanceof C?o._(t,e):o;c==null?(s||t.removeAttributeNode(n),s=!0):(n.value=c,s&&(t.setAttributeNodeNS(n),s=!1))}}},w=(t,e,r)=>s=>{r!==!!s&&((r=!!s)?t.setAttribute(e,""):t.removeAttribute(e))},et=({dataset:t})=>e=>{for(let r in e){let s=e[r];s==null?delete t[r]:t[r]=s}},N=(t,e)=>{let r,s,n=e.slice(2);return!(e in t)&&(s=e.toLowerCase())in t&&(n=s.slice(2)),o=>{let c=M(o)?o:[o,!1];r!==c[0]&&(r&&t.removeEventListener(n,r,c[1]),(r=c[0])&&t.addEventListener(n,r,c[1]))}},_=t=>{let e;return r=>{e!==r&&(e=r,typeof r=="function"?r(t):r.current=t)}},D=(t,e)=>e==="dataset"?et(t):r=>{t[e]=r},R=t=>{let e;return r=>{e!=r&&(e=r,t.textContent=r??"")}};var B=(t,e,r,s,n)=>{let o=r.length,c=e.length,f=o,l=0,i=0,a=null;for(;l<c||i<f;)if(c===l){let p=f<o?i?s(r[i-1],-0).nextSibling:s(r[f-i],0):n;for(;i<f;)t.insertBefore(s(r[i++],1),p)}else if(f===i)for(;l<c;)(!a||!a.has(e[l]))&&t.removeChild(s(e[l],-1)),l++;else if(e[l]===r[i])l++,i++;else if(e[c-1]===r[f-1])c--,f--;else if(e[l]===r[f-1]&&r[i]===e[c-1]){let p=s(e[--c],-1).nextSibling;t.insertBefore(s(r[i++],1),s(e[l++],-1).nextSibling),t.insertBefore(s(r[--f],1),p),e[c]=r[f]}else{if(!a){a=new Map;let p=i;for(;p<f;)a.set(r[p],p++)}if(a.has(e[l])){let p=a.get(e[l]);if(i<p&&p<f){let E=l,v=1;for(;++E<c&&E<f&&a.get(e[E])===p+v;)v++;if(v>p-i){let Q=s(e[l],0);for(;i<p;)t.insertBefore(s(r[i++],1),Q)}else t.replaceChild(s(r[i++],1),s(e[l++],-1))}else l++}else t.removeChild(s(e[l++],-1))}return r};var{isArray:A,prototype:rt}=Array,{indexOf:H}=rt;var{createDocumentFragment:st,createElement:nt,createElementNS:ot,createTextNode:P,createTreeWalker:W,importNode:q}=new Proxy(document,{get:(t,e)=>t[e].bind(t)});var it=t=>{let e=nt("template");return e.innerHTML=t,e.content},y,ct=t=>{y||(y=ot("http://www.w3.org/2000/svg","svg")),y.innerHTML=t;let e=st();return e.append(...y.childNodes),e},z=(t,e)=>e?ct(t):it(t);var lt=({childNodes:t},e)=>t[e],x=(t,e,r)=>B(t.parentNode,e,r,S,t),ft=t=>{let e,r,s=[],n=o=>{switch(typeof o){case"string":case"number":case"boolean":e!==o&&(e=o,r||(r=P("")),r.data=o,s=x(t,s,[r]));break;case"object":case"undefined":if(o==null){e!=o&&(e=o,s=x(t,s,[]));break}if(A(o)){e=o,o.length===0?s=x(t,s,[]):typeof o[0]=="object"?s=x(t,s,o):n(String(o));break}e!==o&&"ELEMENT_NODE"in o&&(e=o,s=x(t,s,o.nodeType===11?[...o.childNodes]:[o]));break;case"function":n(o(t));break}};return n},at=(t,e)=>{switch(e[0]){case"?":return w(t,e.slice(1),!1);case".":return D(t,e.slice(1));case"@":return N(t,"on"+e.slice(1));case"o":if(e[1]==="n")return N(t,e)}switch(e){case"ref":return _(t);case"aria":return L(t)}return j(t,e)};function F(t){let{type:e,path:r}=t,s=r.reduceRight(lt,this);return e==="node"?ft(s):e==="attr"?at(s,t.name):R(s)}var T=t=>{let e=[],{parentNode:r}=t;for(;r;)e.push(H.call(r.childNodes,t)),t=r,{parentNode:r}=t;return e},m="is\xB5",I=new h,pt=/^(?:textarea|script|style|title|plaintext|xmp)$/,d=()=>({stack:[],entry:null,wire:null}),ht=(t,e)=>{let{content:r,updates:s}=dt(t,e);return{type:t,template:e,content:r,updates:s,wire:null}},ut=(t,e)=>{let r=t==="svg",s=O(e,m,r),n=z(s,r),o=W(n,129),c=[],f=e.length-1,l=0,i=`${m}${l}`;for(;l<f;){let a=o.nextNode();if(!a)throw`bad template: ${s}`;if(a.nodeType===8)a.data===i&&(c.push({type:"node",path:T(a)}),i=`${m}${++l}`);else{for(;a.hasAttribute(i);)c.push({type:"attr",path:T(a),name:a.getAttribute(i)}),a.removeAttribute(i),i=`${m}${++l}`;pt.test(a.localName)&&a.textContent.trim()===`<!--${i}-->`&&(a.textContent="",c.push({type:"text",path:T(a)}),i=`${m}${++l}`)}}return{content:n,nodes:c}},dt=(t,e)=>{let{content:r,nodes:s}=I.get(e)||I.set(e,ut(t,e)),n=q(r,!0),o=s.map(F,n);return{content:n,updates:o}},b=(t,{type:e,template:r,values:s})=>{let n=G(t,s),{entry:o}=t;(!o||o.template!==r||o.type!==e)&&(t.entry=o=ht(e,r));let{content:c,updates:f,wire:l}=o;for(let i=0;i<n;i++)f[i](s[i]);return l||(o.wire=$(c))},G=({stack:t},e)=>{let{length:r}=e;for(let s=0;s<r;s++){let n=e[s];n instanceof u?e[s]=b(t[s]||(t[s]=d()),n):A(n)?G(t[s]||(t[s]=d()),n):t[s]=null}return r<t.length&&t.splice(r),r},u=class{constructor(e,r,s){this.type=e,this.template=r,this.values=s}};var J=t=>{let e=new h,r=s=>(n,...o)=>b(s,{type:t,template:n,values:o});return Object.assign((s,...n)=>new u(t,s,n),{for(s,n){let o=e.get(s)||e.set(s,new g);return o.get(n)||o.set(n,r(d()))},node:(s,...n)=>b(d(),new u(t,s,n)).valueOf()})},U=new h,K=(t,e)=>{let r=typeof e=="function"?e():e,s=U.get(t)||U.set(t,d()),n=r instanceof u?b(s,r):r;return n!==s.wire&&(s.wire=n,t.replaceChildren(n.valueOf())),t},xt=J("html"),mt=J("svg");function bt(t){let e=Object.keys(t.props);class r extends HTMLElement{constructor(){super().attachShadow({mode:"open"}),Object.assign(this,t),e.forEach(n=>{let[o,c]=this.props[n];Object.defineProperty(this,n,{get:()=>{let f=this.getAttribute(n)||c;return o!==String?o(f):f},set:f=>this.setAttribute(n,f)})}),typeof this.intersect=="function"&&new IntersectionObserver(n=>n.forEach(o=>{o.isIntersecting&&this.intersect(o.intersectionRatio.toFixed(2))}),{root:null,rootMargin:"0px",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(this)}render(){K(this.shadowRoot,this.template()),this.refs={},this.shadowRoot.querySelectorAll("[ref]").forEach(n=>{this.refs[n.getAttribute("ref")]=n})}connectedCallback(){this?.ready&&this.ready(),this.render()}static get observedAttributes(){return e}attributeChangedCallback(){this.render()}}!customElements.get(t.component)&&customElements.define(t.component,r)}export{bt as default,xt as html,mt as svg};
/*! (c) Andrea Giammarchi - ISC */
