<head>
	<title>Ardi: Welcome to the Weightless Web</title>
	<meta
		name="description"
		content="Ardi is a tiny (but fierce) web component framework, weighing
	just 1kb uncompressed."
	/>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="/css/onedark.css" />
	<link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
	<nav>
		<a href="/">Ardi</a>
		<div>
			<a href="/docs.html" class="active">Docs</a>
			<a href="/playground.html">Playground</a>
		</div>
	</nav>

	<main class="docs">
		<div class="docs-container">
			<h1>Docs</h1>

			<aside>
				<div class="toc">
					<h2>Contents</h2>
					<ul>
						<li><a href="#installation">Installation</a></li>
						<br />
						<li>
							<a href="#use">Usage</a>
							<ul>
								<li><a href="#component">component</a></li>
								<li><a href="#props">props</a></li>
								<li>
									<a href="#template">template()</a>
									<ul>
										<li><a href="#slots">slots</a></li>
										<li><a href="#parts">parts</a></li>
										<li><a href="#refs">refs</a></li>
										<li><a href="#events">@events</a></li>
									</ul>
								</li>
								<li><a href="#ready">ready()</a></li>
								<li><a href="#intersect">intersect(ratio)</a></li>
							</ul>
						</li>
						<br />
						<li>
							<a href="#advanced">Advanced</a>
							<ul>
								<li><a href="#render">render()</a></li>
							</ul>
						</li>
						<br />
						<li>
							<a href="#frameworks">Ardi + Other Frameworks</a>
						</li>
					</ul>
				</div>
			</aside>

			<br />

			<h2 id="installation">Installation</h2>

			<h3>Option 1: As a package</h3>

			<pre class="language-shell">
				<p class="code-label">shell</p>
				<code class="language-shell">
npm i ardi
				</code>
			</pre>

			<pre>
				<p class="code-label">javascript</p>
				<code class="language-javascript">
import ardi, {html} from 'ardi';

ardi({ component: 'my-component', })
				</code>
			</pre>

			<h3 style="margin-top: 1.5em">Option 2: In your markup</h3>

			<pre>
				<p class="code-label">html</p>
				<code class="language-html">
&lt;script type="module"&gt;
	import ardi, {html} from '//unpkg.com';

	ardi({ component: 'my-component', })
&lt;/script&gt;
				</code>
			</pre>

			<br /><br /><br />

			<h2 id="use">Usage</h2>

			<p>
				Ardi components are composed in objects, following the conventions
				outlined below. The example code is from the
				<code>&lt;gauge-demo&gt;</code> component. You can review the full code
				<a href="/playground.html?component=gauge"> in the playground</a>.
			</p>

			<hr />

			<h3 id="component">component</h3>

			<p>
				Define the component's name. The name must follow the
				<a
					href="https://html.spec.whatwg.org/#valid-custom-element-name"
					target="_blank"
					>custom element naming convention</a
				>.
			</p>

			<pre>
				<p class="code-label">javascript</p>
				<code class="language-javascript">
ardi({
	component: 'gauge-demo',
})
				</code>
			</pre>

			<hr />

			<h3 id="props">props</h3>

			<p>
				Props are defined in an object where each key represents a prop, and its
				value is an array containing setter function and an optional default
				value. Setter functions can be built-in functions (like
				<code>String</code>, <code>Number</code>, or <code>JSON.parse</code>),
				arrow functions, or another function in your component (referenced using
				<code>this</code>).
			</p>

			<p>
				Every prop is assigned to <code>this</code> and is reactive by default,
				meaning that changes to a prop's value (from inside the component) or to
				the prop's attribute (from outside the component) will cause the
				template to update.
			</p>

			<pre>
				<p class="code-label">javascript</p>
				<code class="language-javascript">
ardi({
	component: 'gauge-demo',

	props: {
		// setter function
		label: [String],
		// setter function with default values
		max: [Number, 120],
		min: [Number, 0],
		step: [Number, 10],
		value: [Number, 90],
	},
})
				</code>
			</pre>

			<hr />
			<h3 id="template">template()</h3>
			<p>
				Use the template function to return a tagged template literal. For
				ultra-fast template updates, Ardi uses the
				<a href="https://www.npmjs.com/package/uhtml" target="_blank">uhtml</a>
				library, which is a subset of
				<a
					href="https://github.com/WebReflection/lighterhtml#readmeackage/uhtml"
					target="_blank"
					>lighterhtml</a
				>.
			</p>

			<h4 id="slots">slots</h4>
			<p>
				If you enabled
				<a
					href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM"
					rel="nofollow"
					>Shadow DOM</a
				>, you can use
				<a
					href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement"
					rel="nofollow"
					>&lt;slot&gt; tags</a
				>
				inside your template. You can use the default slot or multiple named
				slots.
			</p>

			<h4 id="parts">parts</h4>
			<p>
				If you're new to custom elements,
				<a
					href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/part"
					rel="nofollow"
					>part attributes</a
				>
				allow you to expose an element for styling by CSS rules outside of the
				component's Shadow DOM using the <code>::part()</code> pseudo-selector.
			</p>

			<h4 id="refs">refs</h4>
			<p>
				Any element with a <code>ref</code> attribute will be added to
				<code>this.refs</code>, i.e. <code>this.refs.dial</code> in the example
				below.
			</p>

			<h4 id="events">events</h4>
			<p>
				You can add Vue-style <code>@event</code> attributes anywhere in your
				markup. Note that raw expressions will cause a rendering loop, similar
				to React, so it is best to either use arrow functions or call a function
				from your template, i.e.:
				<br />
				<code>@click=${() => this.count += this.step}</code>
				<br />
				or
				<br />
				<code>@click=${this.add()}</code>.
			</p>

			<pre>
				<p class="code-label">javascript</p>
				<code class="language-javascript fix-attr">
ardi({
	template() {
		return html`${this.numbers().map(
				(num) => html`
					&lt;div
						part="number"
						style=${`transform: rotate(${num.deg}deg)`}
					&gt;
						&lt;i style=${`transform: rotate(${-num.deg}deg)`}&gt;${num.label}&lt;/i&gt;
					&lt;/div&gt;
				`
			)}
			&lt;div part="dial" ref="dial"&gt;&lt;/div&gt;
			&lt;slot name="label" part="label"&gt;${this.label}&lt;/slot&gt;

			&lt;style&gt;
				:host {
					align-items: center;
					background: var(--background, #000);
					border: 2px solid rgba(125, 125, 125, 0.5);
				/* etc etc etc */
			&lt;/style&gt;`
	},
})
				</code>
			</pre>

			<hr />

			<h3 id="ready">ready()</h3>
			<p>
				The <code>ready</code> function runs once after the first render. This
				is a good place to apply effects, setup observers, etc. If you want to
				apply effects to your template, you can trigger an update by modifying
				prop values, by imperatively targeting an element using
				<code>this.refs</code>, or by manually calling this.render().
			</p>

			<pre>
				<p class="code-label">javascript</p>
				<code class="language-javascript">
ardi({
	ready() {
		console.log(`${this.component} rendered`)
	},
})
				</code>
			</pre>

			<hr />
			<h3 id="intersect">intersect(ratio)</h3>
			<p>
				Use the <code>intersect</code> function to create effects when the
				component is scrolled into view. You may use the
				<code>ratio</code> parameter to determine how much of the component
				should be visible before you run your effects. Ardi is optimized so that
				the intersection observer is only created if you use this key, so
				exclude it if you do not intend to use it. Also note that the default
				intersection observer is rootless and therefore is not appropriate for
				every scenario. If you need to, you can always create your own
				intersection observer elsewhere in your component.
			</p>

			<pre>
				<p class="code-label">javascript</p>
				<code class="language-javascript">
ardi({
	intersect(ratio) {
		if (ratio > 0.3) {
			const val = this.deg(this.value / this.max)
			this.refs.dial.style.transform = `rotate(${val}deg)`
		}
	},
})
				</code>
			</pre>

			<br /><br /><br />

			<h2 id="advanced">Advanced</h2>

			<p>
				Ardi allows you to customize the DX based on your needs and prefences.
			</p>

			<hr />

			<h3 id="render">render()</h3>

			<p>
				The <code>render</code> function runs on the initial render and every
				time a prop's state changes. The default templating libray,
				<a href="https://www.npmjs.com/package/uhtml" target="_blank">uhtml</a>,
				is <i>extremely</i> efficient, updating just the parts of the template
				that have changed (much like
				<a href="https://lit.dev/" target="_blank">lit</a>). This allows Ardi
				components to work very smoothly with other frameworks like React and
				Vue.
			</p>
			<p>
				If you prefer to use a different templating system, you can do so by
				overriding the default render function with your own. There are examples
				for
				<a href="https://handlebarsjs.com/" target="_blank">handlebars</a> and
				<a href="https://www.npmjs.com/package/jsx-dom" target="_blank">jsx</a>
				in the playground.
			</p>

			<h4>Playground Links</h4>
			<p>
				<a href="/playground.html?component=helloHbs">
					&lt;hello-world&gt; written in Handlebars
				</a>
			</p>
			<p>
				<a href="/playground.html?component=helloJsx">
					&lt;hello-world&gt; written in JSX
				</a>
			</p>

			<br /><br /><br />

			<h2 id="frameworks">Using Ardi with Other Frameworks</h2>

			<p>
				Ardi is well-optimized and plays well with others! Like lit, uhtml only
				updates the parts of the template that have changed, allowing Ardi
				components to react
				<i>extremely</i> quickly to interactions with other components. In the
				embedded pens below, React and Vue components provide a set of controls
				to customize the Ardi <code>&lt;hello-world&gt;</code> component. Watch
				in the DevTools as you change the name or the color to see how
				efficently the template is updated.
			</p>

			<hr />

			<h3>Ardi❤️React</h3>
			<iframe
				height="500"
				style="width: 100%"
				scrolling="no"
				title="Ardi ❤️ React"
				src="https://codepen.io/jameslovallo/embed/preview/XWqNNNo?default-tab=js%2Cresult&editable=true&theme-id=dark"
				frameborder="no"
				loading="lazy"
				allowtransparency="true"
				allowfullscreen="true"
			></iframe>

			<hr />

			<h3>Ardi❤️Vue</h3>
			<iframe
				height="500"
				style="width: 100%"
				scrolling="no"
				title="Ardi ❤️ Vue"
				src="https://codepen.io/jameslovallo/embed/preview/KKRgrrd?default-tab=js%2Cresult&editable=true&theme-id=dark"
				frameborder="no"
				loading="lazy"
				allowtransparency="true"
				allowfullscreen="true"
			></iframe>
		</div>
	</main>

	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"
		integrity="sha512-gU7kztaQEl7SHJyraPfZLQCNnrKdaQi5ndOyt4L4UPL/FHDd/uB9Je6KDARIqwnNNE27hnqoWLBq+Kpe4iHfeQ=="
		crossorigin="anonymous"
		referrerpolicy="no-referrer"
	></script>

	<script>
		hljs.highlightAll()
	</script>
</body>
